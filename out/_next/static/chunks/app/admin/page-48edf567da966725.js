(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5282:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=5282,e.exports=t},9019:function(e,t,s){Promise.resolve().then(s.bind(s,8328))},8328:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(7437),l=s(2265),n=s(7648);let r=(0,s(8439).eI)("https://zzjggtbvbdgorrpiocsp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp6amdndGJ2YmRnb3JycGlvY3NwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwOTYyNzcsImV4cCI6MjA2OTY3MjI3N30.gRTHVMBNUS7PuySxxVxQuoXjt9kZa2J9yaPGML6fTok");function i(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[c,d]=(0,l.useState)({total:0,earlyBird:0,regular:0,dayOf:0,totalRevenue:0,completed:0,pending:0});(0,l.useEffect)(()=>{x()},[]);let x=async()=>{try{let{data:e,error:s}=await r.from("vendors").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[]);let a=(e||[]).reduce((e,t)=>(e.total++,e[t.registration_type.replace("-","")]++,"completed"===t.payment_status?(e.totalRevenue+=t.total_amount,e.completed++):e.pending++,e),{total:0,earlyBird:0,regular:0,dayOf:0,totalRevenue:0,completed:0,pending:0});d(a)}catch(e){console.error("Error fetching vendors:",e)}finally{i(!1)}},m=async(e,t)=>{try{let{error:s}=await r.from("vendors").update({payment_status:t,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;x()}catch(e){console.error("Error updating payment status:",e)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"ri-loader-4-line w-8 h-8 flex items-center justify-center animate-spin text-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading vendor data..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Vendor Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Lyons Community Yard Sale - September 13, 2025"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{let t=new Blob([["ID,Name,Email,Phone,Address,Registration Type,Spaces,Amount,Payment Status,Items,Registration Date",...e.map(e=>[e.id,'"'.concat(e.full_name,'"'),e.email,e.phone,'"'.concat(e.address,'"'),e.registration_type,e.number_of_spaces,e.total_amount,e.payment_status,'"'.concat(e.items_description||"",'"'),e.created_at?new Date(e.created_at).toLocaleDateString():""].join(","))].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="yard-sale-vendors-".concat(new Date().toISOString().split("T")[0],".csv"),a.click()},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center gap-2",children:[(0,a.jsx)("i",{className:"ri-download-line w-4 h-4 flex items-center justify-center"}),"Export CSV"]}),(0,a.jsxs)(n.default,{href:"/",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2",children:[(0,a.jsx)("i",{className:"ri-home-line w-4 h-4 flex items-center justify-center"}),"Back to Site"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Vendors"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:c.total})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-group-line w-6 h-6 flex items-center justify-center text-blue-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",c.totalRevenue]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-money-dollar-circle-line w-6 h-6 flex items-center justify-center text-green-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:c.completed})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-check-line w-6 h-6 flex items-center justify-center text-blue-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:c.pending})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-time-line w-6 h-6 flex items-center justify-center text-orange-600"})})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Types"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-green-700 font-medium",children:"Early Bird"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-green-600",children:c.earlyBird})]})}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Regular"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:c.regular})]})}),(0,a.jsx)("div",{className:"bg-orange-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-orange-700 font-medium",children:"Day Of"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-orange-600",children:c.dayOf})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"All Vendor Registrations"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.full_name}),(0,a.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.address})]})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900 capitalize",children:e.registration_type.replace("-"," ")}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.number_of_spaces," space(s)"]})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["$",e.total_amount]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("completed"===e.payment_status?"bg-green-100 text-green-800":"failed"===e.payment_status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.payment_status})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""}),(0,a.jsx)("td",{className:"px-6 py-4",children:"pending"===e.payment_status&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>m(e.id,"completed"),className:"text-green-600 hover:text-green-800 cursor-pointer",title:"Mark as completed",children:(0,a.jsx)("i",{className:"ri-check-line w-4 h-4 flex items-center justify-center"})}),(0,a.jsx)("button",{onClick:()=>m(e.id,"failed"),className:"text-red-600 hover:text-red-800 cursor-pointer",title:"Mark as failed",children:(0,a.jsx)("i",{className:"ri-close-line w-4 h-4 flex items-center justify-center"})})]})})]},e.id))})]})})]})]})]})}}},function(e){e.O(0,[151,971,117,744],function(){return e(e.s=9019)}),_N_E=e.O()}]);